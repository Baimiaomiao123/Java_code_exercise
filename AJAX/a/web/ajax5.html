<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>使用代理机制完成ajax跨域访问</title>
</head>
<body>
<script type="text/javascript">
  window.onload = () => {
    document.getElementById("btn").onclick = () => {
      //发送ajax请求
      const xmlHttpRequest = new XMLHttpRequest();
      xmlHttpRequest.onreadystatechange  = () => {
        if (xmlHttpRequest.readyState == 4) {
          if (xmlHttpRequest.status >= 200 && xmlHttpRequest.status < 300) {
            document.getElementById("mydiv").innerText = xmlHttpRequest.responseText;
          }
        }
      }
      xmlHttpRequest.open("GET","/a/proxy",true);
      xmlHttpRequest.send();
    }
  }
</script>
  <button id="btn">使用代理机制完成ajax跨域访问</button>
  <div id="mydiv"></div>
</body>
</html>