<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>省市联动</title>
</head>
<body>
<script type="text/javascript" src="/ajax01/js/jQuery_1.0.0.js"></script>

<script type="text/javascript">
  $(function () {
    //发送ajax请求，获取所有的省份。省份的pcode是null
    $.ajax({
      method : "GET",
      url : "/ajax01/listArea",
      data : "t=" + new Date().getTime(),
      async : true,
      success : function (jsonArr) {
        //[{"code" : "001","name" : "河北省"},{"code" : "001","name" : "河北省"}]
        //以上格式的json是我们自己设计的，我们希望服务器能够返回这样格式的json字符串
          var html = "<option value=''>---请选择省份---</option>";
          for (var i = 0; i < jsonArr.length; i++) {
              var area = jsonArr[i];
              html += "<option value='"+ area.code + "'>" + area.name + "</option>";
          }
          $("#province").html(html);
      }
    })

    $("#province").change(function () {
        //发送ajax请求
        // alert(this.value);
        $.ajax({
            method : "GET",
            url : "/ajax01/listArea",
            data : "t=" + new Date().getTime() + "&pcode=" + this.value,
            async : true,
            success : function (jsonArr) {
                //[{"code" : "001","name" : "河北省"},{"code" : "001","name" : "河北省"}]
                //以上格式的json是我们自己设计的，我们希望服务器能够返回这样格式的json字符串
                var html = "<option value=''>---请选择市---</option>";
                for (var i = 0; i < jsonArr.length; i++) {
                    var area = jsonArr[i];
                    html += "<option value='"+ area.code + "'>" + area.name + "</option>";
                }
                $("#city").html(html);
            }
        })
    })
  })
</script>

<select id="province">
<!--  <option value="">&#45;&#45;请选择省份&#45;&#45;</option>-->
<!--  <option value="001">河北省</option>-->
<!--  <option value="002">河南省</option>-->
</select>

<select id="city">

</select>

</body>
</html>